<div fxLayout="column" fxLayoutAlign="center center" class="h-100">
  <div [ngStyle.xs]="{'height': isDomReady ? (buttons.offsetHeight | calc ) : 0}" fxLayout fxLayoutAlign="center center" class="_img-container" [ngClass]="class"
    [class._cursor-pointer]="isEditable && !isCompressing" (click)="filePicker.click()">
    <div fxLayoutAlign="center center" class="h-100" *ngIf="imagePreview">
      <img ngClass.xs="h-100" ngClass.gt-xs="2-100"  [src]="imagePreview" alt="image-preview" *ngIf="!isCompressing">
      <mat-hint *ngIf="isCompressing">Uploading...</mat-hint>
    </div>
    <div fxLayoutAlign="center center" [ngClass]="placeholderClass" *ngIf="!imagePreview">
      <mat-icon class="my-3">{{placeholderIcon}}</mat-icon>
    </div>
  </div>
  <div class="w-100" #buttons>
    <button mat-stroked-button type="button" (click)="filePicker.click()" class="bg-white w-100"
      [ngClass]="buttonClass" *ngIf="isEditable && !imagePreview">
        Pick Image
    </button>
    <button mat-stroked-button color="warn" type="button" (click)="onDeleteImage()" class="bg-white w-100"
      [ngClass]="buttonClass" *ngIf="isEditable && imagePreview" [disabled]="isCompressing">
        Delete Image
    </button>
    <input type="file" accept="image/*" class="invisible position-fixed"
      [disabled]="!isEditable || isCompressing" (change)="onImagePicked($event)" #filePicker>
  </div>
</div>